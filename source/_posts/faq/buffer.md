---
title: 缓存相关问答
date: 2019-07-01T12:54:24+02:00
tags: 
- 面试
- 缓存
categories: 缓存
---
<!-- toc -->
#### 用过哪些缓存，讲下tair的原理 （caocao）





#### redis 持久化

RDB 和 AOF 优缺点


RDB持久化机制的优点

1. 数据冷备

2. 数据恢复速度快：RDB是一份数据文件，恢复的时候，直接加载到内存中即可,不需要执行。



RDB持久化机制的缺点

1. 数据相对不完整

RDB数据快照文件，每隔一段时间，比如5分钟，或者更长时间生成一次，这个时候就得接受一旦redis进程宕机，那么会丢失最近5分钟的数据。

2. 性能问题

RDB每次在fork子进程来执行RDB快照数据文件生成的时候，如果数据文件特别大，可能会导致对客户端提供的服务暂停数毫秒甚至更久。



AOF持久化机制的优点

1. 最大可能保证数据完整性

AOF持久化机制可以更好的保护数据不丢失，一般AOF会每隔1秒，通过子线程执行fsync操作，一般最多丢失1秒钟的数据。

2. 写入性能高

AOF日志文件以append-only模式写入，所以没有任何磁盘寻址的开销，写入性能非常高。

3. AOF文件修复简单

redis-check-aof --fix命令修复。



AOF持久化机制的缺点

1. 文件大

AOF日志文件通常比RDB数据快照文件更大。

2.恢复慢

数据恢复速度相对较慢。